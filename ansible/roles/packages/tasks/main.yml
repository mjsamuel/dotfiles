- block:
    - name: install homebrew packages
      include_role:
        name: geerlingguy.mac.homebrew
    - name: install mac apps
      include_role:
        name: geerlingguy.mac.mas
      tags: ["mas"]
  when: ansible_os_family == "Darwin"

- name: install apt packages (Debian)
  ansible.builtin.apt:
    name: "{{ apt_installed_packages }}"
    state: present
  become: yes
  when: ansible_os_family == "Debian"

- block:
    - ansible.builtin.import_tasks:
        file: "lazygit.yml"
      tags: ["lazygit"]
    - ansible.builtin.import_tasks:
        file: "eza.yml"
      tags: ["eza"]
  when: ansible_os_family != "Darwin"
